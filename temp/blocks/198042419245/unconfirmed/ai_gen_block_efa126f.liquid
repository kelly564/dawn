{% doc %}
  @prompt
    Generate a Shopify Liquid section that replicates the following structure and styling:
    
    - A full-width FAQ section inside a <section> tag.
    - Includes:
      - Custom padding via CSS.
      - Color scheme variables.
      - A centered title “FAQ”.
      - A two-column grid on tablet+ and single column on mobile.
      - 12 accordion items.
      - Each accordion uses <details> and <summary>.
      - Inside summary: icon container, h4 title, caret SVG.
      - Inside details: .accordion__content-wrapper → .accordion__content (rich text compatible).
    
    - The output must contain:
      - The complete HTML structure.
      - All CSS styles.
      - All classes exactly as in the reference:
          .collapsible-content
          .accordion
          .accordion__details
          .accordion__summary
          .accordion__content-wrapper
          .accordion__content
          .grid--1-col, grid--2-col-tablet
          .animate-item and animate-section classes
      - Keep the same animation-related attributes.
      - Include 12 FAQ items with numbered titles and long descriptive paragraphs, following the structure:
    
          <details>
            <summary>
              <div class="summary__title">
                <span class="material-icon material-symbols-outlined"></span>
                <h2 class="h4 accordion__title">[FAQ Question]</h2>
              </div>
              [caret svg]
            </summary>
            <div class="accordion__content-wrapper">
              <div class="accordion__content rte">
                <p>[FAQ Answer]</p>
              </div>
            </div>
          </details>
    
    - Make sure the entire output is clean, valid, and ready to paste into theme sections.
    - Do NOT simplify or modify the structure.
    - Reproduce the exact same hierarchy, indentation, and nesting.
    
    Generate the full HTML section now.
    , FAQ
    1. Tips for First-Time Users
    Most users won't need to take any special precautions during their first use. However, if you've never used red light therapy before and feel apprehensive, start by wearing a thin T-shirt as a barrier. This provides a psychological transition period. Once your body gradually adjusts to the temperature, you can remove the clothing for direct skin contact. If your skin is naturally sensitive and prone to redness or swelling, we recommend using the massage head gloves over the massage head. This prevents irritation to already sensitive skin while ensuring effective results.
    
    2. How long does it take to feel relief? How long per use？
    Results vary from person to person. The vast majority of users experience significant relief within about a week. Some see remarkable results on the very first day, while others with severe muscle strain may require a longer period. However, with increased massage sessions, everyone ultimately achieves excellent outcomes. Under normal circumstances, we recommend using it for 10-15 minutes per session to achieve relief. If used for over two hours at a time, it may cause slight skin redness. This is due to accelerated blood circulation and is a normal phenomenon of heat therapy. Please do not be concerned.
    
    3. How many modes? Is the intensity appropriate?
    Two temperature settings are available. Three intensity modes are provided: Light, Normal, and Heavy. However, our proprietary chip automatically fine-tunes the pressure within each mode based on factors like your actual muscle thickness, intelligently adapting to deliver optimal pressure distribution.
    
    
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-faq-section-{{ ai_gen_id }} {
    padding-top: {{ block.settings.padding_top }}px;
    padding-bottom: {{ block.settings.padding_bottom }}px;
  }

  .ai-faq-container-{{ ai_gen_id }} {
    max-width: {{ block.settings.container_width }}px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .ai-faq-title-{{ ai_gen_id }} {
    text-align: center;
    margin-bottom: {{ block.settings.title_spacing }}px;
    font-size: {{ block.settings.title_size }}px;
    color: rgb(var(--color-foreground));
  }

  .ai-faq-grid-{{ ai_gen_id }} {
    display: grid;
    gap: {{ block.settings.item_spacing }}px;
    grid-template-columns: 1fr;
  }

  @media screen and (min-width: 750px) {
    .ai-faq-grid-{{ ai_gen_id }} {
      grid-template-columns: repeat({{ block.settings.columns_desktop }}, 1fr);
    }
  }

  .ai-faq-details-{{ ai_gen_id }} {
    border: 1px solid rgba(var(--color-foreground), 0.1);
    border-radius: {{ block.settings.border_radius }}px;
    background-color: {{ block.settings.item_background }};
    overflow: hidden;
  }

  .ai-faq-summary-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: {{ block.settings.item_padding }}px;
    cursor: pointer;
    list-style: none;
    user-select: none;
  }

  .ai-faq-summary-{{ ai_gen_id }}::-webkit-details-marker {
    display: none;
  }

  .ai-faq-summary-title-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 12px;
    flex: 1;
  }

  .ai-faq-icon-{{ ai_gen_id }} {
    width: 24px;
    height: 24px;
    flex-shrink: 0;
    color: {{ block.settings.icon_color }};
  }

  .ai-faq-question-{{ ai_gen_id }} {
    margin: 0;
    font-size: {{ block.settings.question_size }}px;
    font-weight: 600;
    color: rgb(var(--color-foreground));
  }

  .ai-faq-caret-{{ ai_gen_id }} {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    transition: transform 0.3s ease;
    color: rgb(var(--color-foreground));
  }

  .ai-faq-details-{{ ai_gen_id }}[open] .ai-faq-caret-{{ ai_gen_id }} {
    transform: rotate(180deg);
  }

  .ai-faq-content-wrapper-{{ ai_gen_id }} {
    padding: 0 {{ block.settings.item_padding }}px {{ block.settings.item_padding }}px;
  }

  .ai-faq-content-{{ ai_gen_id }} {
    font-size: {{ block.settings.answer_size }}px;
    line-height: 1.6;
    color: rgba(var(--color-foreground), 0.75);
  }

  .ai-faq-content-{{ ai_gen_id }} p {
    margin: 0;
  }

  .ai-faq-content-{{ ai_gen_id }} p:not(:last-child) {
    margin-bottom: 12px;
  }

  @media screen and (max-width: 749px) {
    .ai-faq-grid-{{ ai_gen_id }} {
      grid-template-columns: 1fr;
    }
  }
{% endstyle %}

<section class="ai-faq-section-{{ ai_gen_id }} color-{{ block.settings.color_scheme }}" {{ block.shopify_attributes }}>
  <div class="ai-faq-container-{{ ai_gen_id }}">
    {% if block.settings.title != blank %}
      <h2 class="ai-faq-title-{{ ai_gen_id }}">{{ block.settings.title }}</h2>
    {% endif %}

    <div class="ai-faq-grid-{{ ai_gen_id }} collapsible-content accordion">
      {% for i in (1..3) %}
        {% liquid
          assign question_key = 'question_' | append: i
          assign answer_key = 'answer_' | append: i
          assign question = block.settings[question_key]
          assign answer = block.settings[answer_key]
        %}

        {% if question != blank %}
          <details class="ai-faq-details-{{ ai_gen_id }} accordion__details animate-item">
            <summary class="ai-faq-summary-{{ ai_gen_id }} accordion__summary">
              <div class="ai-faq-summary-title-{{ ai_gen_id }} summary__title">
                <span class="ai-faq-icon-{{ ai_gen_id }} material-icon material-symbols-outlined">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                  </svg>
                </span>
                <h2 class="ai-faq-question-{{ ai_gen_id }} h4 accordion__title">{{ question }}</h2>
              </div>
              <svg class="ai-faq-caret-{{ ai_gen_id }}" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </summary>
            <div class="ai-faq-content-wrapper-{{ ai_gen_id }} accordion__content-wrapper">
              <div class="ai-faq-content-{{ ai_gen_id }} accordion__content rte">
                {{ answer }}
              </div>
            </div>
          </details>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "FAQ accordion",
  "settings": [
    {
      "type": "header",
      "content": "Section"
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "label": "Title",
      "default": "FAQ"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "container_width",
      "min": 600,
      "max": 1400,
      "step": 100,
      "unit": "px",
      "label": "Container width",
      "default": 1200
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Top padding",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Bottom padding",
      "default": 60
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "columns_desktop",
      "label": "Columns on desktop",
      "options": [
        { "value": "1", "label": "1" },
        { "value": "2", "label": "2" }
      ],
      "default": "1"
    },
    {
      "type": "range",
      "id": "item_spacing",
      "min": 8,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Item spacing",
      "default": 16
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "label": "Title size",
      "default": 32
    },
    {
      "type": "range",
      "id": "title_spacing",
      "min": 20,
      "max": 80,
      "step": 4,
      "unit": "px",
      "label": "Title spacing",
      "default": 40
    },
    {
      "type": "range",
      "id": "question_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Question size",
      "default": 16
    },
    {
      "type": "range",
      "id": "answer_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Answer size",
      "default": 14
    },
    {
      "type": "color",
      "id": "item_background",
      "label": "Item background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "icon_color",
      "label": "Icon color",
      "default": "#334fb4"
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "item_padding",
      "min": 12,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "Item padding",
      "default": 20
    },
    {
      "type": "header",
      "content": "FAQ 1"
    },
    {
      "type": "text",
      "id": "question_1",
      "label": "Question",
      "default": "Tips for First-Time Users"
    },
    {
      "type": "richtext",
      "id": "answer_1",
      "label": "Answer",
      "default": "<p>Most users won't need to take any special precautions during their first use. However, if you've never used red light therapy before and feel apprehensive, start by wearing a thin T-shirt as a barrier. This provides a psychological transition period. Once your body gradually adjusts to the temperature, you can remove the clothing for direct skin contact. If your skin is naturally sensitive and prone to redness or swelling, we recommend using the massage head gloves over the massage head. This prevents irritation to already sensitive skin while ensuring effective results.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 2"
    },
    {
      "type": "text",
      "id": "question_2",
      "label": "Question",
      "default": "How long does it take to feel relief? How long per use?"
    },
    {
      "type": "richtext",
      "id": "answer_2",
      "label": "Answer",
      "default": "<p>Results vary from person to person. The vast majority of users experience significant relief within about a week. Some see remarkable results on the very first day, while others with severe muscle strain may require a longer period. However, with increased massage sessions, everyone ultimately achieves excellent outcomes. Under normal circumstances, we recommend using it for 10-15 minutes per session to achieve relief. If used for over two hours at a time, it may cause slight skin redness. This is due to accelerated blood circulation and is a normal phenomenon of heat therapy. Please do not be concerned.</p>"
    },
    {
      "type": "header",
      "content": "FAQ 3"
    },
    {
      "type": "text",
      "id": "question_3",
      "label": "Question",
      "default": "How many modes? Is the intensity appropriate?"
    },
    {
      "type": "richtext",
      "id": "answer_3",
      "label": "Answer",
      "default": "<p>Two temperature settings are available. Three intensity modes are provided: Light, Normal, and Heavy. However, our proprietary chip automatically fine-tunes the pressure within each mode based on factors like your actual muscle thickness, intelligently adapting to deliver optimal pressure distribution.</p>"
    }
  ],
  "presets": [
    {
      "name": "FAQ accordion"
    }
  ]
}
{% endschema %}